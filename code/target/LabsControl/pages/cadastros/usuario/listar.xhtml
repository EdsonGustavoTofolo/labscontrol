<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Lista de Usuários</title>
</h:head>
<f:view>
    <h:form>
        <p:messages id="msgs" showDetail="false" autoUpdate="true" closable="true" />
        <p><h:commandLink value="Novo" action="#{usuarioControl.create()}"/></p>
        <p:dataTable value="#{usuarioControl.dao.listAll()}" var="usuario">
            <p:column headerText="Id">
                <h:outputText value="#{usuario.id}"/>
            </p:column>
            <p:column headerText="Login">
                <h:outputText value="#{usuario.login}"/>
            </p:column>
            <p:column headerText="Nome">
                <h:outputText value="#{usuario.nome}"/>
            </p:column>
            <p:column headerText="Email">
                <h:outputText value="#{usuario.email}"/>
            </p:column>
            <p:column headerText="Identificação">
                <h:outputText value="#{usuario.identificacao}"/>
            </p:column>
            <p:column headerText="Administrador">
                <h:outputText value="#{(usuario.administrador) ? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column headerText="Alterar">
                <p:commandLink action="#{usuarioControl.alter(usuario)}" ajax="false" >
                    <h:outputText value="Alterar" />
                </p:commandLink>
            </p:column>
            <p:column headerText="Excluir">
                <p:commandLink action="#{usuarioControl.delete(usuario)}" ajax="false" onclick="if (!confirm('Confirma a exclusão do registro?')) return false">
                    <h:outputText value="Excluir" />
                </p:commandLink>
            </p:column>
        </p:dataTable>
    </h:form>
</f:view>
</html>
